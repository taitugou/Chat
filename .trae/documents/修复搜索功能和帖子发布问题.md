# 修复搜索功能和帖子发布问题

## 问题分析

1. **搜索功能问题**：

   * 前端搜索页面只搜索用户和消息，没有搜索帖子的选项

   * 后端搜索路由 `/search/posts` 已存在，但前端未实现对应功能

   * 界面有问题（搜索框）

2. **无法发布带投票、链接的帖子问题**：

   * 前端发布页面有投票和链接选项，但可能存在数据发送或处理问题

   * 后端发布路由 `/post` 支持处理投票和链接数据

   * 数据库表已包含相关字段

## 修复方案

### 1. 修复搜索功能

**前端修改**：

* 在 `Search.vue` 中添加帖子搜索选项

* 实现搜索帖子的逻辑

* 添加帖子搜索结果展示

**修改文件**：

* `f:\C\frontend\src\views\Search.vue`

### 2. 检查和修复帖子发布功能

**前端检查**：

* 确认投票和链接数据是否正确发送

* 检查表单数据格式是否符合后端要求

**后端检查**：

* 确认投票和链接数据处理逻辑是否正确

* 检查是否有验证错误导致发布失败

**修改文件**：

* `f:\C\backend\routes\post.js`（如有必要）

* `f:\C\frontend\src\views\Posts.vue`（如有必要）

## 具体实施步骤

1. 修改 `Search.vue`，添加帖子搜索功能
2. 测试搜索帖子功能是否正常工作
3. 测试发布带投票的帖子
4. 测试发布带链接的帖子
5. 测试发布同时带投票和链接的帖子
6. 修复测试中发现的问题

## 预期结果

* 搜索页面可以搜索帖子

* 可以成功发布带投票的帖子

* 可以成功发布带链接的帖子

* 可以成功发布同时带投票和链接的帖子

